/*! For license information please see jarallax-video.js.LICENSE.txt */
!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([,,function(e,t){e.exports=function(e){"complete"===document.readyState||"interactive"===document.readyState?e.call():document.attachEvent?document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&e.call()}):document.addEventListener&&document.addEventListener("DOMContentLoaded",e)}},function(e,t,o){(function(t){var o;o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=o}).call(this,o(4))},function(e,t){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(i=window)}e.exports=i},,function(e,t,o){e.exports=o(7)},function(e,t,o){"use strict";o.r(t);var i=o(8),n=o(3),a=o.n(n),r=o(2),l=o.n(r),p=o(9);a.a.VideoWorker=a.a.VideoWorker||i.default,Object(p.default)(),l()(function(){void 0!==a.a.jarallax&&a.a.jarallax(document.querySelectorAll("[data-jarallax-video]"))})},function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return m});var i=o(3),n=o.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(){this.doneCallbacks=[],this.failCallbacks=[]}l.prototype={execute:function(e,t){var o=e.length;for(t=Array.prototype.slice.call(t);o;)e[o-=1].apply(null,t)},resolve:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.execute(this.doneCallbacks,t)},reject:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.execute(this.failCallbacks,t)},done:function(e){this.doneCallbacks.push(e)},fail:function(e){this.failCallbacks.push(e)}};var p=0,u=0,s=0,d=0,c=0,y=new l,v=new l,m=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this;i.url=t,i.options_default={autoplay:!1,loop:!1,mute:!1,volume:100,showContols:!0,startTime:0,endTime:0},i.options=i.extend({},i.options_default,o),i.videoID=i.parseURL(t),i.videoID&&(i.ID=p,p+=1,i.loadAPI(),i.init())}var t,o;return t=e,o=[{key:"extend",value:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=t[0]||{};return Object.keys(t).forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(o){i[o]=t[e][o]})}),i}},{key:"parseURL",value:function(e){var t,o,i,n,a=!(!(t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/))||11!==t[1].length)&&t[1],r=function(e){var t=e.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/);return!(!t||!t[3])&&t[3]}(e),l=(o=e.split(/,(?=mp4\:|webm\:|ogv\:|ogg\:)/),i={},n=0,o.forEach(function(e){var t=e.match(/^(mp4|webm|ogv|ogg)\:(.*)/);t&&t[1]&&t[2]&&(i["ogv"===t[1]?"ogg":t[1]]=t[2],n=1)}),!!n&&i);return a?(this.type="youtube",a):r?(this.type="vimeo",r):!!l&&(this.type="local",l)}},{key:"isValid",value:function(){return!!this.videoID}},{key:"on",value:function(e,t){this.userEventsList=this.userEventsList||[],(this.userEventsList[e]||(this.userEventsList[e]=[])).push(t)}},{key:"off",value:function(e,t){var o=this;this.userEventsList&&this.userEventsList[e]&&(t?this.userEventsList[e].forEach(function(i,n){i===t&&(o.userEventsList[e][n]=!1)}):delete this.userEventsList[e])}},{key:"fire",value:function(e){for(var t=this,o=arguments.length,i=new Array(o>1?o-1:0),n=1;n<o;n++)i[n-1]=arguments[n];this.userEventsList&&void 0!==this.userEventsList[e]&&this.userEventsList[e].forEach(function(e){e&&e.apply(t,i)})}},{key:"play",value:function(e){var t=this;t.player&&("youtube"===t.type&&t.player.playVideo&&(void 0!==e&&t.player.seekTo(e||0),n.a.YT.PlayerState.PLAYING!==t.player.getPlayerState()&&t.player.playVideo()),"vimeo"===t.type&&(void 0!==e&&t.player.setCurrentTime(e),t.player.getPaused().then(function(e){e&&t.player.play()})),"local"===t.type&&(void 0!==e&&(t.player.currentTime=e),t.player.paused&&t.player.play()))}},{key:"pause",value:function(){var e=this;e.player&&("youtube"===e.type&&e.player.pauseVideo&&n.a.YT.PlayerState.PLAYING===e.player.getPlayerState()&&e.player.pauseVideo(),"vimeo"===e.type&&e.player.getPaused().then(function(t){t||e.player.pause()}),"local"===e.type&&(e.player.paused||e.player.pause()))}},{key:"mute",value:function(){var e=this;e.player&&("youtube"===e.type&&e.player.mute&&e.player.mute(),"vimeo"===e.type&&e.player.setVolume&&e.player.setVolume(0),"local"===e.type&&(e.$video.muted=!0))}},{key:"unmute",value:function(){var e=this;e.player&&("youtube"===e.type&&e.player.mute&&e.player.unMute(),"vimeo"===e.type&&e.player.setVolume&&e.player.setVolume(e.options.volume),"local"===e.type&&(e.$video.muted=!1))}},{key:"setVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.player&&e&&("youtube"===t.type&&t.player.setVolume&&t.player.setVolume(e),"vimeo"===t.type&&t.player.setVolume&&t.player.setVolume(e),"local"===t.type&&(t.$video.volume=e/100))}},{key:"getVolume",value:function(e){var t=this;t.player?("youtube"===t.type&&t.player.getVolume&&e(t.player.getVolume()),"vimeo"===t.type&&t.player.getVolume&&t.player.getVolume().then(function(t){e(t)}),"local"===t.type&&e(100*t.$video.volume)):e(!1)}},{key:"getMuted",value:function(e){var t=this;t.player?("youtube"===t.type&&t.player.isMuted&&e(t.player.isMuted()),"vimeo"===t.type&&t.player.getVolume&&t.player.getVolume().then(function(t){e(!!t)}),"local"===t.type&&e(t.$video.muted)):e(null)}},{key:"getImageURL",value:function(e){var t=this;if(t.videoImage)e(t.videoImage);else{if("youtube"===t.type){var o=["maxresdefault","sddefault","hqdefault","0"],i=0,n=new Image;n.onload=function(){120!==(this.naturalWidth||this.width)||i===o.length-1?(t.videoImage="https://img.youtube.com/vi/".concat(t.videoID,"/").concat(o[i],".jpg"),e(t.videoImage)):(i+=1,this.src="https://img.youtube.com/vi/".concat(t.videoID,"/").concat(o[i],".jpg"))},n.src="https://img.youtube.com/vi/".concat(t.videoID,"/").concat(o[i],".jpg")}if("vimeo"===t.type){var a=new XMLHttpRequest;a.open("GET","https://vimeo.com/api/v2/video/".concat(t.videoID,".json"),!0),a.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&400>this.status){var o=JSON.parse(this.responseText);t.videoImage=o[0].thumbnail_large,e(t.videoImage)}},a.send(),a=null}}}},{key:"getIframe",value:function(e){this.getVideo(e)}},{key:"getVideo",value:function(e){var t=this;t.$video?e(t.$video):t.onAPIready(function(){var o,i;if(t.$video||((o=document.createElement("div")).style.display="none"),"youtube"===t.type){var a,r;t.playerOptions={},t.playerOptions.videoId=t.videoID,t.playerOptions.playerVars={autohide:1,rel:0,autoplay:0,playsinline:1},t.options.showContols||(t.playerOptions.playerVars.iv_load_policy=3,t.playerOptions.playerVars.modestbranding=1,t.playerOptions.playerVars.controls=0,t.playerOptions.playerVars.showinfo=0,t.playerOptions.playerVars.disablekb=1),t.playerOptions.events={onReady:function(e){t.options.mute?e.target.mute():t.options.volume&&e.target.setVolume(t.options.volume),t.options.autoplay&&t.play(t.options.startTime),t.fire("ready",e),t.options.loop&&!t.options.endTime&&(t.options.endTime=t.player.getDuration()-.1),setInterval(function(){t.getVolume(function(o){t.options.volume!==o&&(t.options.volume=o,t.fire("volumechange",e))})},150)},onStateChange:function(e){t.options.loop&&e.data===n.a.YT.PlayerState.ENDED&&t.play(t.options.startTime),a||e.data!==n.a.YT.PlayerState.PLAYING||(a=1,t.fire("started",e)),e.data===n.a.YT.PlayerState.PLAYING&&t.fire("play",e),e.data===n.a.YT.PlayerState.PAUSED&&t.fire("pause",e),e.data===n.a.YT.PlayerState.ENDED&&t.fire("ended",e),e.data===n.a.YT.PlayerState.PLAYING?r=setInterval(function(){t.fire("timeupdate",e),t.options.endTime&&t.player.getCurrentTime()>=t.options.endTime&&(t.options.loop?t.play(t.options.startTime):t.pause())},150):clearInterval(r)},onError:function(e){t.fire("error",e)}};var l=!t.$video;if(l){var p=document.createElement("div");p.setAttribute("id",t.playerID),o.appendChild(p),document.body.appendChild(o)}t.player=t.player||new n.a.YT.Player(t.playerID,t.playerOptions),l&&(t.$video=document.getElementById(t.playerID),t.videoWidth=parseInt(t.$video.getAttribute("width"),10)||1280,t.videoHeight=parseInt(t.$video.getAttribute("height"),10)||720)}if("vimeo"===t.type){if(t.playerOptions={id:t.videoID,autopause:0,transparent:0,autoplay:t.options.autoplay?1:0,loop:t.options.loop?1:0,muted:t.options.mute?1:0},t.options.volume&&(t.playerOptions.volume=t.options.volume),t.options.showContols||(t.playerOptions.badge=0,t.playerOptions.byline=0,t.playerOptions.portrait=0,t.playerOptions.title=0,t.playerOptions.background=1),!t.$video){var u="";Object.keys(t.playerOptions).forEach(function(e){""!==u&&(u+="&"),u+="".concat(e,"=").concat(encodeURIComponent(t.playerOptions[e]))}),t.$video=document.createElement("iframe"),t.$video.setAttribute("id",t.playerID),t.$video.setAttribute("src","https://player.vimeo.com/video/".concat(t.videoID,"?").concat(u)),t.$video.setAttribute("frameborder","0"),t.$video.setAttribute("mozallowfullscreen",""),t.$video.setAttribute("allowfullscreen",""),o.appendChild(t.$video),document.body.appendChild(o)}var s;t.player=t.player||new n.a.Vimeo.Player(t.$video,t.playerOptions),t.options.startTime&&t.options.autoplay&&t.player.setCurrentTime(t.options.startTime),t.player.getVideoWidth().then(function(e){t.videoWidth=e||1280}),t.player.getVideoHeight().then(function(e){t.videoHeight=e||720}),t.player.on("timeupdate",function(e){s||(t.fire("started",e),s=1),t.fire("timeupdate",e),t.options.endTime&&t.options.endTime&&e.seconds>=t.options.endTime&&(t.options.loop?t.play(t.options.startTime):t.pause())}),t.player.on("play",function(e){t.fire("play",e),t.options.startTime&&0===e.seconds&&t.play(t.options.startTime)}),t.player.on("pause",function(e){t.fire("pause",e)}),t.player.on("ended",function(e){t.fire("ended",e)}),t.player.on("loaded",function(e){t.fire("ready",e)}),t.player.on("volumechange",function(e){t.fire("volumechange",e)}),t.player.on("error",function(e){t.fire("error",e)})}"local"===t.type&&(t.$video||(t.$video=document.createElement("video"),t.options.showContols&&(t.$video.controls=!0),t.options.mute?t.$video.muted=!0:t.$video.volume&&(t.$video.volume=t.options.volume/100),t.options.loop&&(t.$video.loop=!0),t.$video.setAttribute("playsinline",""),t.$video.setAttribute("webkit-playsinline",""),t.$video.setAttribute("id",t.playerID),o.appendChild(t.$video),document.body.appendChild(o),Object.keys(t.videoID).forEach(function(e){var o,i,n,a;o=t.$video,i=t.videoID[e],n="video/".concat(e),(a=document.createElement("source")).src=i,a.type=n,o.appendChild(a)})),t.player=t.player||t.$video,t.player.addEventListener("playing",function(e){i||t.fire("started",e),i=1}),t.player.addEventListener("timeupdate",function(e){t.fire("timeupdate",e),t.options.endTime&&t.options.endTime&&this.currentTime>=t.options.endTime&&(t.options.loop?t.play(t.options.startTime):t.pause())}),t.player.addEventListener("play",function(e){t.fire("play",e)}),t.player.addEventListener("pause",function(e){t.fire("pause",e)}),t.player.addEventListener("ended",function(e){t.fire("ended",e)}),t.player.addEventListener("loadedmetadata",function(){t.videoWidth=this.videoWidth||1280,t.videoHeight=this.videoHeight||720,t.fire("ready"),t.options.autoplay&&t.play(t.options.startTime)}),t.player.addEventListener("volumechange",function(e){t.getVolume(function(e){t.options.volume=e}),t.fire("volumechange",e)}),t.player.addEventListener("error",function(e){t.fire("error",e)})),e(t.$video)})}},{key:"init",value:function(){this.playerID="VideoWorker-".concat(this.ID)}},{key:"loadAPI",value:function(){if(!u||!s){var e="";if("youtube"!==this.type||u||(u=1,e="https://www.youtube.com/iframe_api"),"vimeo"===this.type&&!s){if(s=1,void 0!==n.a.Vimeo)return;e="https://player.vimeo.com/api/player.js"}if(e){var t=document.createElement("script"),o=document.getElementsByTagName("head")[0];t.src=e,o.appendChild(t),o=null,t=null}}}},{key:"onAPIready",value:function(e){var t=this;if("youtube"===t.type&&(void 0!==n.a.YT&&0!==n.a.YT.loaded||d?"object"===a(n.a.YT)&&1===n.a.YT.loaded?e():y.done(function(){e()}):(d=1,window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady=null,y.resolve("done"),e()})),"vimeo"===t.type)if(void 0!==n.a.Vimeo||c)void 0!==n.a.Vimeo?e():v.done(function(){e()});else{c=1;var o=setInterval(function(){void 0!==n.a.Vimeo&&(clearInterval(o),v.resolve("done"),e())},20)}"local"===t.type&&e()}}],o&&r(t.prototype,o),e}()},function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return r});var i=o(8),n=o(3),a=o.n(n);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.jarallax;if(void 0!==e){var t=e.constructor,o=t.prototype.onScroll;t.prototype.onScroll=function(){var e=this;o.apply(e),!e.isVideoInserted&&e.video&&(!e.options.videoLazyLoading||e.isElementInViewport)&&!e.options.disableVideo()&&(e.isVideoInserted=!0,e.video.getVideo(function(t){var o=t.parentNode;e.css(t,{position:e.image.position,top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",maxWidth:"none",maxHeight:"none",pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden",willChange:"transform,opacity",margin:0,zIndex:-1}),e.$video=t,"local"===e.video.type&&(e.image.src?e.$video.setAttribute("poster",e.image.src):e.image.$item&&"IMG"===e.image.$item.tagName&&e.image.$item.src&&e.$video.setAttribute("poster",e.image.$item.src)),e.image.$container.appendChild(t),o.parentNode.removeChild(o)}))};var n=t.prototype.coverImage;t.prototype.coverImage=function(){var e=this,t=n.apply(e),o=!!e.image.$item&&e.image.$item.nodeName;if(t&&e.video&&o&&("IFRAME"===o||"VIDEO"===o)){var i=t.image.height,a=i*e.image.width/e.image.height,r=(t.container.width-a)/2,l=t.image.marginTop;t.container.width>a&&(i=(a=t.container.width)*e.image.height/e.image.width,r=0,l+=(t.image.height-i)/2),"IFRAME"===o&&(i+=400,l-=200),e.css(e.$video,{width:"".concat(a,"px"),marginLeft:"".concat(r,"px"),height:"".concat(i,"px"),marginTop:"".concat(l,"px")})}return t};var r=t.prototype.initImg;t.prototype.initImg=function(){var e=this,t=r.apply(e);return e.options.videoSrc||(e.options.videoSrc=e.$item.getAttribute("data-jarallax-video")||null),e.options.videoSrc?(e.defaultInitImgResult=t,!0):t};var l=t.prototype.canInitParallax;t.prototype.canInitParallax=function(){var e=this,t=l.apply(e);if(!e.options.videoSrc)return t;var o=new i.default(e.options.videoSrc,{autoplay:!0,loop:e.options.videoLoop,showContols:!1,startTime:e.options.videoStartTime||0,endTime:e.options.videoEndTime||0,mute:e.options.videoVolume?0:1,volume:e.options.videoVolume||0});function n(){e.image.$default_item&&(e.image.$item=e.image.$default_item,e.image.$item.style.display="block",e.coverImage(),e.clipContainer(),e.onScroll())}if(o.isValid())if(this.options.disableParallax()&&(t=!0,e.image.position="absolute",e.options.type="scroll",e.options.speed=1),t){if(o.on("ready",function(){if(e.options.videoPlayOnlyVisible){var t=e.onScroll;e.onScroll=function(){t.apply(e),e.videoError||!e.options.videoLoop&&(e.options.videoLoop||e.videoEnded)||(e.isVisible()?o.play():o.pause())}}else o.play()}),o.on("started",function(){e.image.$default_item=e.image.$item,e.image.$item=e.$video,e.image.width=e.video.videoWidth||1280,e.image.height=e.video.videoHeight||720,e.coverImage(),e.clipContainer(),e.onScroll(),e.image.$default_item&&(e.image.$default_item.style.display="none")}),o.on("ended",function(){e.videoEnded=!0,e.options.videoLoop||n()}),o.on("error",function(){e.videoError=!0,n()}),e.video=o,!e.defaultInitImgResult&&(e.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","local"!==o.type))return o.getImageURL(function(t){e.image.bgImage='url("'.concat(t,'")'),e.init()}),!1}else e.defaultInitImgResult||o.getImageURL(function(t){var o=e.$item.getAttribute("style");o&&e.$item.setAttribute("data-jarallax-original-styles",o),e.css(e.$item,{"background-image":'url("'.concat(t,'")'),"background-position":"center","background-size":"cover"})});return t};var p=t.prototype.destroy;t.prototype.destroy=function(){var e=this;e.image.$default_item&&(e.image.$item=e.image.$default_item,delete e.image.$default_item),p.apply(e)}}}}]);